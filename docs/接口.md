## 接口

所有功能都集成在 [HatomVideo](../src/HatomVideo.js) 文件中

[代码](../src/HatomVideo.js) 中每个方法的参数和返回都有详细注释，请以注释为准，结合海康或萤石对应平台的开发文档进行使用

## SDK 功能

封装底层 sdk，所以必须先初始化 SDK，才可以使用其他功能

| SDK 功能                                                     | 函数                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 初始化SDK                                                    | initSdk                                                      |
| 初始化播放器                                                 | initPlayer                                                   |
| 设置播放参数                                                 | setDataSource                                                |
| 开始播放 \| 停止播放 \| 释放资源                             | start \| stop \| release                                     |
| 截图 \| 开启录像 \| 结束录像                                 | capturePicture \| startLocalRecord \| stopLocalRecord        |
| 对讲控制 \| 声音控制 \| 清晰度控制                           | voiceTalk \| sound \| setVideoLevel                          |
| 设置播放验证码                                               | setVerifyCode                                                |
| 开始回放 \| 停止回放 \| 暂停回放 \| 恢复回放 \| 设置倍速 \| 设置进度 \| 获取状态 | startPlayback \| stopPlayback \| pausePlayback \| resumePlayback \| speedPlayback \| seekPlayback \| statusPlayback |
| wifi 配网                                                    | _startConfigWifi                                             |
| 查询设备信息                                                 | _probeDeviceInfo                                             |
| 云台 PTZ 控制接口                                            | _controlPtz                                                  |
| 截图回调 \| 录像结果回调 \| 云台控制回调 \| 流量使用回调 \| 播放状态回调 \| 对讲状态回调 \| 回看状态 | onCapturePicture \| onLocalRecord \| onPtzControl \| onStreamFlow \| onPlayStatus \| onTalkStatus \| onPlayback |

## API 功能

封装 Http 接口，与 SDK 无关。需要先调用 setGlobalConfig 配置相关属性

[萤石 Http 封装 与 对应接口文档](../src/api/EzvizApi.js) 

[海康 Http 封装 与 对应接口文档](../src/api/HikApi.js) 


 * 注意⚠️
 * 海康服务需要部署在自己的服务器，不像萤石已经提供了公共服务。所以请求地址、请求参数、响应结果可能有所不同。需要根据海康提供的文档自行修改相关配置与代码，再使用 patch-package 记录修改

| API 功能                                             | 函数                                |
| ---------------------------------------------------- | ----------------------------------- |
| 获取常量（可以获取到 globalConfig） \| 设置配置      | getConstants \| setGlobalConfig     |
| 全天录像开关状态 \| 设置全天录像                     | recordStatus \| recordSet           |
| 设备信息 \| 设备状态（主要是sd卡状态）               | info \| status                      |
| 镜像翻转                                             | mirror                              |
| TF卡格式化                                           | format                              |
| 设备撤/布防                                          | defence                             |
| 开启设备视频加密 \| 关闭设备视频加密                 | encryptOn \| encryptOff             |
| 获取设备版本信息 \| 设备升级固件 \| 获取设备升级状态 | version \| upgrade \| upgradeStatus |
| 设置告警声音模式                                     | sound                               |
| 根据时间获取存储文件信息（回看url）                  | searchRecord                        |
| 预览 URL ｜对讲 URL                                  | previewUrl \| talkUrl               |
| 云台操作                                             | ptzControl                          |

